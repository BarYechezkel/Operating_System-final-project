        -:    0:Source:union_find.cpp
        -:    1:#include "union_find.hpp"
        -:    2:
        -:    3:#include <algorithm>
        -:    4:#include <numeric>
        -:    5:#include <vector>
        -:    6:
        -:    7:using namespace std;
        -:    8:
        1:    9:UnionFind::UnionFind(int _n)
        -:   10:{
        1:   11:	n = _n;
        1:   12:	cc = n;
        1:   13:	parent.resize(n);
        1:   14:	rank.assign(n, 1);
        1:   15:	iota(parent.begin(), parent.end(), 0);
        1:   16:}
        -:   17:
       18:   18:int UnionFind::find_parent(int node)
        -:   19:{
       18:   20:	if (parent[node] != node) parent[node] = find_parent(parent[node]);
       18:   21:	return parent[node];
        -:   22:}
        -:   23:
        6:   24:bool UnionFind::unite(int x, int y)
        -:   25:{
        6:   26:	x = find_parent(x);
        6:   27:	y = find_parent(y);
        6:   28:	if (x == y) return false;
       2*:   29:	if (rank[x] < rank[y]) parent[x] = y;
        -:   30:	else
        2:   31:		parent[y] = x;
        2:   32:	rank[x] += (rank[x] == rank[y]);
        2:   33:	--cc;
        2:   34:	return true;
        -:   35:}
